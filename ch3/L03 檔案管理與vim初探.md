# L03 檔案管理與vim初探
###### tags: `Linux`
[TOC]
## 3.1 檔案管理
常見的兩種檔案
- 一般檔案
- 目錄檔案
### 3.1.1 目錄的建立與刪除
- ```rmdir和rm```
- 複習```mkdir、pwd、cp、cd```
- 複習```ls、ll、ll -a```
***觀察目錄本身的參數***
- ```ll```和```ll -d```
### 3.1.2 萬用字元
- 經常使用的萬用字元:
    - \* :0到無窮多
    - \? : 一定有一個
    - \[\]: \[abcd\]代表一定是abcd這四個的任何一個
    - \[\-\]: 編碼順序內的所有字元。例如\[0-9]
    - \[^] :反向選擇\[^abc]只要是非abc其他就接受
- 範例:
    /etc目錄底下有多少檔名開頭為cron的檔案
    ```
    ll /etc/cron*
    ```
- 問題:
    - 列出/etc/底下含有5個字元的檔名
    ```
    ll /etc/?????
    ```
    - 列出/etc底下含有數字在內的檔名
    ```
    ll /etc/*[0-9]*
    ```
### 3.1.3 檔案及目錄的複製與刪除
- 連結檔: 輸入ll顯示的開頭為l，一般檔案為-，目錄檔為d。
***複製目錄時***
- 常常需要加上-r和-a，兩者差異為: 
    - -r的建立時間是現在
    - -a連同建立時間一起複製
    - 權限
    - 因此備份的話建議使用-a

***目標檔案的存在與否***
***刪除檔案***
### 3.1.4 特殊檔名的處理方式
***空白字的檔名***
```mkdir "class one"```

***加號與減號開頭的檔名***
- 透過絕對/相對路徑來處理
    ```mkdir ./-newdir2```
### 3.1.5 隱藏檔的觀察與檔案類型的觀察
***觀察隱藏檔案***
```ll -a``` or ```ll -d .*```
***觀察檔案的類型***
- file指令
### 3.1.6 檔名的移動與更名
```mv```和```cp```
### 大量建置空白檔案的方式
- touch指令: 用來建置檔案(查help是說用來修改timestemp的指令)
- 使用大括號touch test{1,2,3,4}
- 加空白件很崩潰
- 連續數字的使用\{\.\.}
- touch mytest_{jan,feb,mar,apr}_{one,two,three}_{a1,b1,c1}
- touch 4XXXC0{01..50}
## 3.2 檔案內容的查詢
### 3.2.1 連續輸出檔案的內容
- ```cat``` 將檔案內容全部列出
- ```head``` 預設只列出檔案最前面10行
- ```tail``` 預設只列出檔案最後10行
### 3.2.2 可檢索檔案內容
- more與less
- g和G移動到頂/尾
- /關鍵字
- n和N選擇上/下一個關鍵字
## 3.3 vim程式編輯器
### 3.3.1簡易的vim操作
### 3.3.2 常用的vim一般指令模式與指令模式列表
- G : 移動到最後一列
- gg : 移動到第一列
- dd : 刪除游標所在行，ndd
- yy : 複製游標所在行，5yy複製5行: nyy
- p : 貼上剛剛刪除/複製的資料
- u : 復原前一個動作

## 3.4 課後練習操作

1. 使用 vim 建立一個名為 ~/myname.txt 的檔案，內容填寫你的學號與姓名，並在找出底下的任務後，寫下正確答案：
    a 請先實際找出你系統中的 /etc/passwd, /etc/pam.d /etc/rc.local, /dev/vda 這 4 個檔案的『檔案類型 (如一般檔案、目錄檔案等等)』後， 將這 4 個的類型寫入 ~/myname.txt 檔案中。
    b 找出 /usr/lib64 這個目錄內，有個檔名長度為 5 個字元的一般檔案，將該檔案檔名寫入 ~/myname.txt 中。
    c 找出 /etc 底下，檔名含有 4 個數字 (數字不一定連接在一起) 的資料，寫下 (1)該檔案的『絕對路徑』檔名，(2)該檔案的類型
2.  在 /opt 底下，有個以減號 (-) 為開頭的檔名，該檔案做錯了，因此，請將他刪除 (可能需要 root 的權限)
3. 在 student 家目錄下，新增一個名為 class03 的目錄，並進入該目錄成為工作目錄。並且完成底下的工作：
    a 在當前的目錄下，新建 mytest_XX_YY_ZZ.txt ，其中 XX 為『 class1, class2, class3 』，而 YY 為『 week1, week2, week3 』，ZZ 則為『 one, two, three, four 』。
    b 建立一個名為 class1/week2 的目錄，將當前目錄中，含有 class1_week2 的檔名通通『複製』到 class1/week2 目錄下
    c 將檔名含有 class1 檔案，通通『移動』到 class1 目錄下
    d 新建一個名為 one 的目錄，將當前目錄中，所有檔名含有 one 的檔案通通移動到 one 底下
    e 建立一個名為 others 的目錄，將當前檔名開頭為 mytest 的檔案，通通移動到該目錄下
4. 在 student 家目錄下，建立一個 userid 的子目錄，並將工作目錄移動到 userid 內，在 userid 這個目錄內，嘗試以一個指令建立 ksuid001 ksuid002 ... 到 ksuid020 等 20 個『空白目錄』
5. 回到 student 家目錄，並且完成底下的任務：
    a 在 student 家目錄底下，建立一個名為 -myhome 的目錄，並將 student 家目錄中，以 b 為開頭的『隱藏檔』複製到 -myhome 目錄內
    b 將工作目錄移動到 -myhome 目錄內，並將 /etc/sysconfig 目錄複製到當前目錄下 (會有一些錯誤訊息是正確的！)
    c 將當前目錄下的 sysconfig/cbq 目錄刪除
    d 列出 /etc/profile 與 /etc/services 的最後 5 行，並將這 10 行轉存到當前目錄下的 myetc.txt 檔案中
    e 將 myetc.txt 複製成為 myetc2.txt，並使用 vim 編輯 myetc2.txt ，第一行加入『 I can use vim 』的字樣即可。
6. 在 student 家目錄下，有個名為 mytext.txt 的檔案，請使用 vim 開啟該檔案，並將第一行複製後，貼上 100 次，之後『強制儲存』即可離開 vim 。